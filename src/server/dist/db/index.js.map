{"version":3,"file":"index.js","names":["config","mysql","connection","process","env","NODE_ENV","clearDBUrl","CLEARDB_DATABASE_URL","createPool","uri"],"sources":["../../db/index.js"],"sourcesContent":["import config from \"../config/index.js\";// local config file\nimport mysql from \"mysql\";// Default built in component\n\n// const connection = mysql.createPool(config.mysql);\n\nlet connection;\n\nif (process.env.NODE_ENV === 'production') {\n    // Use ClearDB_DATABASE_URL from Heroku\n    const clearDBUrl = process.env.CLEARDB_DATABASE_URL;\n  \n    // Create a connection pool from the ClearDB URL\n    connection = mysql.createPool({\n      uri: clearDBUrl,\n      // Note: May need to parse the URL if using mysql2\n    });\n  } else {\n    // Use local MySQL config\n    connection = mysql.createPool(config.mysql);\n  }\n\nexport default connection;\n"],"mappings":"AAAA,OAAOA,MAAM,MAAM,oBAAoB,CAAC;AACxC,OAAOC,KAAK,MAAM,OAAO,CAAC;;AAE1B;;AAEA,IAAIC,UAAU;;AAEd,IAAIC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,EAAE;EACvC;EACA,IAAMC,UAAU,GAAGH,OAAO,CAACC,GAAG,CAACG,oBAAoB;;EAEnD;EACAL,UAAU,GAAGD,KAAK,CAACO,UAAU,CAAC;IAC5BC,GAAG,EAAEH;IACL;EACF,CAAC,CAAC;AACJ,CAAC,MAAM;EACL;EACAJ,UAAU,GAAGD,KAAK,CAACO,UAAU,CAACR,MAAM,CAACC,KAAK,CAAC;AAC7C;;AAEF,eAAeC,UAAU","ignoreList":[]}